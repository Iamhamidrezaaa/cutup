# ุฑูุน ุฎุทุง ECONNRESET

## ๐ ูุดฺฉู

ุฎุทุง `ECONNRESET` ุนู ุงุชุตุงู ุจู OpenAI API ูุทุน ุดุฏู ุงุณุช. ุงู ูโุชูุงูุฏ ุจู ุฏูุงู ุฒุฑ ุจุงุดุฏ:

1. **OpenAI SDK ูุดฺฉู ุฏุงุฑุฏ** - ุงุณุชูุงุฏู ุงุฒ SDK ููฺฉู ุงุณุช ุจุงุนุซ ูุทุน ุงุชุตุงู ุดูุฏ
2. **Timeout** - ุฏุฑุฎูุงุณุช ุฎู ุทูู ูโฺฉุดุฏ
3. **Network issue** - ูุดฺฉู ุดุจฺฉู ุฏุฑ Vercel

## โ ุฑุงูโุญู

### ุชุบุฑุงุช ุงูุฌุงู ุดุฏู:

1. **ุงุณุชูุงุฏู ุงุฒ `fetch` ูุณุชูู** ุจู ุฌุง OpenAI SDK
   - ุงู ููฺฉู ุงุณุช ูุดฺฉู `ECONNRESET` ุฑุง ุญู ฺฉูุฏ
   - ฺฉูุชุฑู ุจุดุชุฑ ุฑู request ุฏุงุฑู

2. **Retry Logic ุจูุจูุฏ ุงูุชู**
   - 3 ุจุงุฑ ุชูุงุด ุจุง exponential backoff
   - ุชุดุฎุต ุฏููโุชุฑ ุฎุทุงูุง connection

3. **Timeout ุจูุชุฑ**
   - ุงุณุชูุงุฏู ุงุฒ `AbortController` ุจุฑุง timeout
   - 2 ุฏููู timeout

4. **Service Worker ุจูุจูุฏ ุงูุชู**
   - ุฌููฺฏุฑ ุงุฒ ุบุฑูุนุงู ุดุฏู Service Worker
   - Keep-alive mechanism

## ๐ Deploy

```bash
vercel --prod
```

## ๐ ุจุนุฏ ุงุฒ Deploy

1. ฺฉ ูุงู ุตูุช ฺฉูฺฺฉ (0.1MB) ุชุณุช ฺฉูุฏ
2. ุจุฑุฑุณ ฺฉูุฏ ฺฉู retry logic ฺฉุงุฑ ูโฺฉูุฏ (ูุงฺฏโูุง ุจุงุฏ ูุดุงู ุฏููุฏ)
3. ุงฺฏุฑ ูููุฒ ุฎุทุง ุฏุงุฑุฏุ ูุงฺฏโูุง ฺฉุงูู ุฑุง ุจูุฑุณุชุฏ

## ๐ ุจุฑุฑุณ

ุฏุฑ Runtime Logs ุจุงุฏ ุจุจูุฏ:
- `TRANSCRIBE: Attempt 1/3...`
- `TRANSCRIBE: Attempt 2/3...` (ุงฺฏุฑ ุฎุทุง ุฑุฎ ุฏุงุฏ)
- `TRANSCRIBE: OpenAI API call successful`

ุงฺฏุฑ retry logic ฺฉุงุฑ ููโฺฉูุฏุ deployment ุฌุฏุฏ ุงูุฌุงู ูุดุฏู ุงุณุช.



